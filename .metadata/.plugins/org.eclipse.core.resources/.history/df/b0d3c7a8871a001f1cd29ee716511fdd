<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<head>
		<div th:replace="~{fragment :: meta}"></div>
		
		<div th:replace="~{fragment :: styles}"></div>
		
		<title>メール認証</title>
	</head>
	<body>
		<div class="nagoyameshi-wrapper">
			<!-- ヘッダー -->
			<div th:replace="~{fragment :: header}"></div>
            
			<main>
				<div class="container pt-4 pb-5 nagoyameshi-container">
					<div class="row justify-content-center">
						<div class="col-xl-5 col-lg-6 col-md-8">
							
							<div th:if="${user.getRole().getId() == 2}">
								<div th:if="${param.create}" class="alert alert-info">
									決済と会員登録が完了しました。
								</div>
								
								<div class="form-group d-flex justify-content-center my-4">
									<button id="paymentButton" class="btn text-white shadow-sm nagoyameshi-btn">決済する</button>
								</div>
							</div>
							
							<div th:unless="${user.getRole().getId() == 2}">
								<div th:if="${successMessage}" class="alert alert-info">
									<span th:text="${successMessage}"></span>
								</div>
								
								<div th:if="${errorMessage}" class="alert alert-danger">
									<span th:text="${errorMessage}"></span>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</main>
			
			<!-- フッター -->
			<div th:replace="~{fragment :: footer}"></div>
		</div>
		
		<div th:replace="~{fragment :: scripts}"></div>
		<script src="https://js.stripe.com/v3"></script>
		<script th:inline="javascript">
			const sessionId = /*[[${sessionId}]]*/"sessionId";                
		</script>        
		<script th:src="@{/js/stripe.js}"></script>
	</body>
</html>